<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Tag: Hardware | 随写 - XinoAssassin&#39;s Blog</title>
  
  <meta name="author" content="XinoAssassin Ni">
  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml">
  
  <meta name="description" content="Self-recording Blog" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
  <meta name="keywords" content="life,technology,thinking" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta property="og:type" content="website">
<meta property="og:title" content="随写 - XinoAssassin&#39;s Blog">
<meta property="og:url" content="https://blog.xinoassassin.me/tags/Hardware/index.html">
<meta property="og:site_name" content="随写 - XinoAssassin&#39;s Blog">
<meta property="og:locale" content="zh">
<meta property="article:author" content="XinoAssassin Ni">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/images/favicon.png">
  
  
  <script type="text/javascript">
    //Export hexo config to js
    var HexoConfig = {
      root: '/',
      search: {
        enabled: 'true'
      }
    };
  </script>

	<script src="https://use.typekit.net/kqs5lfe.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  
<link rel="stylesheet" href="/style.css">

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
  

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  Write Everything.
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      
	<section class="page-header tag">
    <h1>- <span>Hardware</span> -</h1>
  </section>






<section class="post-list">
	
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/09/9600kf-5GHz/">
      一个加钱就完事儿了的故事：9600KF超5.1GHz小记
    </a>
  </h2>
  
  <time>
    Sep 29, 2019
  </time>
  <section class="content">
	  <p>最近最火的CPU应该莫过于i5-9600KF，这周一的时候，这枚处理器突然在Intel的京东自营旗舰店理开始降价促销，1399的价格做到了比618还要低的史低，让一直想更换成9700K的我不禁心动，都这个价位了还要啥自行车？于是想到正好在上周六的时候收了朋友的一块Z170，魔改一下应该能上9600KF，低成本换平台，买了！于是当天看到优惠信息后不到半小时就下单了。</p>
<p><img src="/images/1569724371107.png" alt=""></p>
<p><img src="/images/1569716281622.png" alt=""></p>
<p>这批货应该是新到的，所以都还没有进京东各地的仓库，我的这枚处理器是上海发过来的，沙包的Z170先到了，用笔记本上面的i3-8100试了试，恩，兼容性不错，除了USB会报资源不够和内存兼容性有点小问题不能超手上的双面16GB内存之外其他一切正常，这让我对它能作为9600KF的座驾充满了信心。结果……（其实因为内存兼容性问题还下单了两条威刚金色威龙3600）</p>
<p>周三的时候，9600KF终于到了，上手贴好护舒宝，其实放在华擎华硕等一票除技嘉外的板子上都可以只屏蔽2点+短接2点（微星和蓝天这两家甚至只用屏蔽2点）。上板子，正当我兴冲冲地等着它进系统的时候，又开始卡Windows启动加载的第二个圈了。</p>
<p><img src="/images/IMG_6650_900.JPG" alt="IMG_6650_900"></p>
<p><img src="/images/IMG_6652_900.JPG" alt="IMG_6652_900"></p>
<p>无奈，先换回8100检查主板BIOS，用afuwin把当前BIOS备份出来，然后用MMTool查看里面含有的微码信息，发现缺少了针对R0步进的新微码，遂根据网上教程，找来同厂商的Z390板子BIOS，将微码移植过去，然后再用afuwin给刷上，一切看似很顺利应该是没有毛病了，结果仍然开机卡加载。</p>
<p><img src="/images/EA4cFgXU4AALSL_.jpg" alt="img"></p>
<p>9代处理器步进情况，注意从9600KF和9600K基本都是8核屏蔽而来的，而且还分R0和P0两种步进，其中R0步进可以硬件免疫Spectre。</p>
<p>一头雾水之下只能认为是BIOS有问题，但在网上基本找不到解决办法，因为R0步进太新了，很少有人把新的R0步进处理器放在老主板上面用，无奈第二天还要跑上海，遂睡觉。</p>
<p>睡了可能只有三个钟就爬起来赶飞机了，地铁上面刷了下什么值得买发现京东上微星的Z390系列板子稍微有点优惠，考虑了一下觉得自己是没有能力解决那块Z170的BIOS问题了，于是直接下单MPG Z390 GAMING EDGE AC。</p>
<p>在广州和上海间当天来回还是有点累的，但是挡不住我用上新主板的兴奋之情。没几分钟把CPU显卡内存两块SSD和风扇全部搞定，然后插上电源开机，顺利点亮。然后直接进BIOS，先测试内存能不能上3200，打开XMP重启，很顺利就跳上3200了，然后再把处理器倍频拉到50，电压先开了自动。很顺利地直接进了系统，打开CPU-Z，看到了从来没见过的5GHz。</p>
<p><img src="/images/MSI_SnapShot_900.jpg" alt="MSI_SnapShot_00_900"></p>
<p>然后打开AIDA64单拷FPU，观察到电压为1.34V，体感稍微有点高，想降一点，因为稍微降一点可以让CPU温度更低，散热器更好压，于是安装了Intel XTU，在Windows下面开始降电压，到1.3V的时候我感觉差不多了就没往下降，此时倍频其实可以再往上拉一档，5.1GHz单拷FPU过关，4热管的利民刺灵AS120可以把满载功耗120W的9600KF压在75度，很满意了。</p>
<p>进《刺客信条：奥德赛》简单benchmark了一下，同样显示配置的情况下，平均帧数上升了有10多帧，而高频CPU最大的优势——电子竞技游戏不掉最低帧我还没测过，但是想来这块5GHz的9600KF比我原本超频至3.8GHz的E3-1231V3肯定是要强得多了。</p>
<p><img src="/images/IMG_6779.PNG" alt="IMG_6779"></p>
<p>然后就是把BIOS各种选项都开起来，我是不喜欢CPU没负载的时候还加着一个1.32V这么高的电压的，所以在设置里面把电压控制改成了自适应+Offset，手动给了+0.08V的Offset，这样主板的电压在满载的时候最高可以达到1.32V，而在没有负载的时候也会自动降压。</p>
<p><img src="/images/1569722542854.png" alt="1569722542854"></p>
<p>而内存，因为从朋友那儿借了闲置的两根单条16GB的DDR4-3200内存，自己又下单买了一组8GBx2的套装，所以想着能不能插一块搞个48GB内存系统，事实证明是可以的，只要两个通道的内存容量相等、频率和时序设定一致即可开启，手动在BIOS里面把时序改成差的那一套内存上自带XMP信息中的就可以把频率调至3200，并且十分稳定。</p>
<p><img src="/images/1569723402197.png" alt="1569723402197"></p>
<p><img src="/images/MSI_SnapShot_02_900.jpg" alt="MSI_SnapShot_02_900"></p>
<p><img src="/images/1569722895569.png" alt="1569722895569"></p>
<p>这次时间几乎长达一周的折腾让我明白了，有些问题，加钱真的就完事儿了……</p>
<p><img src="/images/IMG_6780.PNG" alt="IMG_6780"></p>
<p>另外值得一提的是，想摸CJR颗粒的朋友可以买威刚的金色威龙，我推荐别人、自己、还有朋友那儿一共四套金色威龙，频率从3000到3600全部都摸到了CJR颗粒。</p>
<p><img src="/images/IMG_6655_900.JPG" alt="IMG_6655_900"></p>
<p>老平台：</p>
<p><img src="/images/IMG_6642_900.JPG" alt="IMG_6642_900"></p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/DIY/" rel="tag">DIY</a><a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/09/bios-cant-boot-into-system/">
      一场因为BIOS版本太老而引发的无法进入系统悬案
    </a>
  </h2>
  
  <time>
    Sep 11, 2019
  </time>
  <section class="content">
	  <p>前几天朋友的老平台主板坏了，他也正好打算要换一套平台，于是找我写了个配置单，随后在京东上面下单了，京东发货速度很快，没两天东西全都到了，配置单就不晒了，我随手写的，免得被评论吐槽哪里哪里有问题，就用了9700K+Z390+2060SUPER。也正好因为是在新一轮促销开始前夕，所以整套平台的价格买贵了有个小一千，不过早买早享受嘛。</p>
<p>这周日，我过去朋友家里装机。装机我虽然不是很熟练，但是大部分细节我都是注意到了。装箱走线又多花了半小时，搞定之后一次就点亮了，随后在 BIOS 设定里面把内存的 XMP 开起来，频率上到 DDR4-3200 也没出现内存不兼容的现象，看上去一切都挺顺利的，然后我掏出做好的 Windows 10 原厂安装 U 盘准备安装系统。</p>
<p>插U盘，开机，按 F12 选择 U 盘启动！正当我等着 Windows 10 安装那个偏紫色的界面出现的时候，突然，Windows 启动界面那个用来提示正在加载系统的滚动圆卡住了。</p>
<p>我有点懵，心想，不应该啊，这镜像我验过 SHA-1 没有完整性问题啊。出于对微软品质的不放心，我马上重新下了一个稍老版本的 Windows 10 1903 安装镜像准备重新做安装盘，心想，嘿，这个版本我用过的，肯定没问题。</p>
<p>下好镜像打开 Rufus（极力推荐用这个开源免费软件来写镜像）打开镜像写入，很顺利。</p>
<p>插 U 盘，开机，按 F12 选择 U 盘启动，又卡住了！重新尝试了几次，每次都卡在这个地方。我把安装 U 盘插到自己的笔记本上面，很顺利地进入了 Windows 10 安装界面，看来不是镜像的问题。思索了一番，可能是内存超频的问题，于是进 BIOS 还原到默认设置，再重启，还是卡。</p>
<p>难道是我装机的时候哪里出问题了？于是把机箱两侧版再次打开，检查了一番发现没有问题啊，我装的100%没有问题。于是只能进入 BIOS 寻找问题可能所在之处，同时搜索这块板子，看看网上有没有遇到相似问题的人。</p>
<p>还真有，在搜索结果的第一位就是该主板的官方论坛中一个报告自己遇到无法启动错误的用户，简单看了下， 是 BIOS 版本的问题。</p>
<p>难不成到手的主板上面默认的 BIOS 还能让你进不去系统，进不去系统安装盘的？我留意了一下 BIOS 的版本，然后上官网找了主板的驱动下载页面，发现 BIOS 确实比较老，落后最新的已经有三个版本了。于是下载最新的 BIOS，刷入，再插启动盘，很流畅地进入了熟悉的 Windows 10 安装界面。</p>
<p>这里就不点名是哪块板子了，这次装机的经历让我明白了出厂 BIOS 并不是像网上很多人说的“最稳定”“可靠性最高”，而是很可能就问题百出，还是推荐大家上手就直接更新到最新稳定版的 BIOS，甚至一些 beta 版的 BIOS 版本都是可以尝试的，很多疑难杂症和平台小毛病通过 BIOS 的更新都是可以解决的。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/05/pc-hardware-history-3/">
      PC 硬件史话（三）
    </a>
  </h2>
  
  <time>
    May 30, 2019
  </time>
  <section class="content">
	  <h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>上回我们说到上世纪七十年代末期，由 Altair 8800 引发的微型计算机普及浪潮以及各种公司各种机型间的大战。让我们继续顺着时间线前行，来到激动人心的八九十年代，首先登场的，便是 IBM PC。</p>
<h2 id="IBM-Personal-Computer"><a href="#IBM-Personal-Computer" class="headerlink" title="IBM Personal Computer"></a>IBM Personal Computer</h2><p>新兴的个人计算机市场发展之迅猛是大公司们都始料未及的，据统计，1979年 PC 市场的销售额就达到了1.5亿美元，并且这个数字还在以每年超过 40% 的增速发展。如此具有前景的市场很难不吸引大公司们的眼球，随着 IBM 的一批同级别的竞争对手，如惠普和德州仪器等大厂的入场，IBM 也开始了自己的个人计算机设计之路。时任总裁约翰·欧宝和 CEO 法兰克·卡里在公司内部设立了很多有半自主性质的“独立业务单元”以鼓励创新，而后来的 IBM PC 缔造者之一，威廉姆·罗威，被任命为入门级分部的负责人，准备开发一款面向个人的微型计算机。</p>
<img src="/images/william_lowe.jpg" width=30% />

<h3 id="IBM-5150"><a href="#IBM-5150" class="headerlink" title="IBM 5150"></a>IBM 5150</h3><p>首先，他们展开了市场调查。经销商们普遍回应对 IBM 的 PC 十分有兴趣，但是新的产品不能以 IBM 以前的那种风格来设计、售卖，他们要求 IBM 必须使用标准的元器件，以方便维修服务。鉴于 Apple Ⅱ 的畅销，就算是经销商们不喜欢苹果公司的做法，他们也没有办法。然而他们更加不指望 IBM 会改变以往的风格和官僚作风，去推出一款符合市场需求的微型计算机。</p>
<p>急于推出自家微机打入市场的 IBM 想到了走 OEM 的路子，正巧雅达利有成为 OEM 制造商的意愿。于是，罗威在 1980 年七月份的一次高层会议上提议用基于雅达利 800 的平台来打造第一款 PC，同时还提议收购雅达利，原因是“因为在 IBM 的文化基因中，我们没法做成这件事”。CEO 卡里也承认了罗威对于企业文化的描述，在当时的 IBM，需要四年和 300 人的团队才能打造出一款个人电脑。作为收购雅达利的替代方案，高层给予了罗威尝试的机会——允许他组建一支独立的开发团队，而罗威保证，在不用 IBM 传统方式的情况下，他可以在 30 天内给出原型，在一年的期限中做出成品。</p>
<p>当时世人都不相信 IBM 可以如此之快的推出自家的 PC，甚至于有分析师说：“要让 IBM 推出一台个人电脑就好像要教会一直大象跳踢踏舞”。事实上，在 1980 年八月份的展示中，他给出的原型机还仅仅处于勉强能运行起来的阶段。不过，雄心勃勃的罗威在当时已经制定了一份详细的商业计划，其中对于新型计算机的描述是一个开放式架构，可以采用非专有的软硬件，同时在实体店中售卖，而这些全部有违于 IBM 的传统。</p>
<p>不过高层却十分看好罗威的计划，在总裁欧宝的强力支持下，罗威组建了一个仅有 12 人组成的独立团队，这其中就有 PC 之父——唐·埃斯特利奇，当时他刚从一个失败的小型机项目中退出来。唐·埃斯特利奇主动请缨担任团队的领导人物，为了在一年之内端上成品，他们决定采用市场上已经成熟化了的标准方案。到了四月份，整台机器的硬件配置被确定了下来。在核心的 CPU 选择上，他们采用了已经在 IBM 别的产品线上使用过的，有着不错软件适配基础的 Intel 8088，而不是等自家更强的新处理器完工。另外，他们在硬件上还预留了可以让用户自行扩展的接口。而在操作系统方面，他们与当时并不知名的 Microsoft 合作，将 DOS 搬上了自家的 PC 平台，命名为 PC DOS，同时新产品也兼容流行的 CP/M 系统，意味着上市即有非常多的软件不用重新改写编译即可在 IBM PC 上面运行。</p>
<img src="/images/don_estridge_and_steve_jobs.jpg" width=50% />

<p>经过一年的紧张开发，1981 年 8 月 12 日，IBM 正式发售了 Personal Computer，型号为 5150，定价 1565 美元，包含主机和键盘，可选配显示器和打印机。他们还请来了默剧大师卓别林的经典角色——小流浪汉，来主演一系列的电视广告。</p>
<img src="/images/ibm5150.jpg" width=50% />

<iframe width="896" height="672" src="https://www.youtube.com/embed/kQT_YCBb9ao" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>得益于优秀的设计和侧重“个人化”的广告宣传，IBM PC 一上市就取得了巨大的成功，到 1984 年，系列已经占据了整个 PC 市场三分之一的份额。IBM PC 接过了由前辈传过来的计算机普及化大旗，引领了这场一直持续到二十一世纪的信息化革命。1982 年年末，《时代》周刊把“年度人物”更改成了“年度机器”，将 IBM 5150 搬到了自己的封面上。</p>
<img src="/images/IBM_5150_on_time_cover.jpg" />

<h3 id="成为行业标准"><a href="#成为行业标准" class="headerlink" title="成为行业标准"></a>成为行业标准</h3><p>成功的不仅仅是 IBM 5150 这么一款机型那么简单，它如同当初罗威计划的那样，使用了开放的硬件架构，还预留了可扩展接口。团队还将 PC 的设计公知于众，每台 PC 都附带了一本技术参考手册。标准、通用的组件和预留的可扩展接口使得用户可以自行安装相兼容配件，比如可以把内存从 64k 扩展为 128k 等等。开放标准也使得 PC 拥有了一大批为其制造配件的厂商，大大促进了微机行业的整体发展。</p>
<p>硬件上用了通用组件，而细节又都公布在外，这不是给“山寨”留了非常大的口子吗？很快，其他的一些公司开始模仿 IBM PC 推出自家的 PC 产品，这其中大部分都是直接复刻了 PC 的设计。不过尽管 IBM 几乎公开了全部细节，但唯独保留了 PC 的一个基础软件模块——基本输入输出系统也就是 BIOS——没有完全公开。这难不倒人，一些大厂通过逆向工程分析并成功的以不侵犯著作权的形式重新实现了与 IBM PC 兼容的 BIOS，随后顺利推出了自己的 PC，这其中大部分都与 IBM 的 PC 相兼容，也就是说在 IBM PC 上能够运行的程序都可以直接拿来跑，可以用在 IBM PC 上的配件组件可以直接插在自家的机器上用，中文的兼容机最早可能就是指代这些与 IBM PC 相兼容的机型。随着 IBM PC 的热卖以及市场上与其相似的机型日益增多，IBM PC 开始成为个人电脑行业的事实标准，兼容这个标准就可以得到几乎是整个市场的配件以及软件支持，而且并不需要任何的授权费用，何乐而不为呢？</p>
<p>后来，随着行业不断推出升级的机型，PC 标准也在不断地升级进化，在经历了与苹果的麦金塔（Macintosh）等挑战者的竞争并最终取胜之后，它一直被行业延续使用到了今天，可以说，如果没有当年 PC 研发团队的明智决定，现在我们可能就使用不到如此平价、多种多样的个人计算机设备了。</p>
<h2 id="Intel-的崛起"><a href="#Intel-的崛起" class="headerlink" title="Intel 的崛起"></a>Intel 的崛起</h2><p>讲完了 PC 标准一统江湖的故事之后，让我们重新把目光转回到我们本系列文章第一章的主角——Intel 的身上。</p>
<h3 id="从-286-到-386"><a href="#从-286-到-386" class="headerlink" title="从 286 到 386"></a>从 286 到 386</h3><p>1982 年，Intel 发布了 80286，这是一枚在 8086 基础上的改进型处理器，从图中我们可以看到，80286 的外形已经开始靠近我们现在常见的处理器长的那样子了。它仍然是一枚 16 位处理器，但是加入了保护模式（简单来说就是可以保护程序实际内存地址不为人所知），并且完全兼容针对 8086 系列编写的程序，不久之后它被 IBM 采纳用于 PC 的升级型号——IBM PC/AT 上面，随着 PC 市场的火热，它也广销世界。</p>
<img src="/images/intel_80286.jpg" width=30% />

<p>伴随着计算机行业的飞速发展，内存也在不断变大，但是一枚 16 位（内存寻址总线宽度）的处理器能够直接访问的内存只有 2 的 16 次方字节，也就是 64 KiB 的空间，这大大制约了程序员的发挥，于是一枚基于 x86 架构并且能访问更大的内存空间的 CPU 便应运而生了。</p>
<p>1985 年，Intel 推出了 80386，在提供 32 位内存寻址能力的基础上保留了对以前处理器的完全兼容，这只是它的一部分新功能，80386 对后世影响更为深远的，便是将首次出现在 80286 中的保护模式进行了升级改造，使处理器能够支持更为现代的多任务操作系统。80386 给现代 x86 处理器打下了基本框架，而之后在 1989 年发布的 80486 将原本外置的缓存和浮点运算单元搬入到 CPU 内部，至此，现代 x86 处理器彻底定型。</p>
<img src="/images/intel_80386.jpg" width=30% />

<h3 id="爱恨情仇"><a href="#爱恨情仇" class="headerlink" title="爱恨情仇"></a>爱恨情仇</h3><p>前文提到过，x86 指令集的前身本来是 CTC 公司用来充当 8008 的开发费用“支付”给 Intel 的，也就是说 Intel 拥有其所有权。那么为什么至今世界上都还有第二家公司可以设计生产使用 x86 指令集的处理器呢？这还得从本系列文章的第一章最后留下的伏笔说起，那是 Intel 与 IBM、AMD 的两段爱恨纠葛。</p>
<p>IBM 当年在采用 8088 作为第一代 PC 的 CPU 时，根据当时半导体行业“第二供应商”的行规，向 Intel 施压，要求其与另一家公司合作供货，后者找到 AMD，签下了一份长期合作的协议，还有不少芯片生产厂商同时也获得了 Intel 的授权，所以当时的市场上可以见到来自不同厂商的 80x86 芯片。不过到了 80386 推出的时候，Intel 已经决心将主营业务由生产存储芯片转移到中央处理器的设计生产上面去，为了保护自家的知识产权和盈利，他们不想让别的公司成为 80386 的第二供应商。而 IBM 此时有了自己的小心思，可能是觉得用自家都可以造的 286 比较靠谱，可能是不想让 Intel 独占自己的货源，抑或是别的什么不可说的原因，总之不想用 386，而 Intel 的做法正好给了 IBM 一个不用 386 的借口，于是我们没能见到 386 被率先应用在 PC/XT 的后续机型上。</p>
<p>那么 386 该卖给谁呢？康柏（就是后来被惠普收购的那个）伸出了橄榄枝，最先与 Intel 合作推出了新的机型，市场反响热烈，很多生产商开始克隆康柏家的新机器。而 Intel 靠着 386 的先进设计和强大性能，一时间风头无两。但是 AMD 不乐意了，几年前签下的长期授权协议就被你这么单方面撕毁了？那么法庭见。现在有的说法是 Intel 将 AMD 状告上法院，有的说是 AMD 为原告，总之这对本是同根生的“兄弟”走上了法庭，这场官司一直打到 1990 年以 AMD 的胜利而告终。期间 AMD 也没闲着，逆向完了 386，在 1991 年的时候就推出了自家 100% 克隆出来的 Am386，以低廉的价格和比原版更高的主频打下了不少市场份额。</p>
<img src="/images/am386.jpg" width=30% />

<p>不过这都没有妨碍 Intel 在 1992 年的时候成为世界范围内半导体行业排行第一的领军者，不幸的是，创始人之一的罗伯特·诺伊斯没能等到如同他儿子一般的公司登顶的那一天。1990 年 6 月 3 日，诺伊斯因为心脏病发作去世，享年 62 岁。</p>
<h3 id="Intel-Inside"><a href="#Intel-Inside" class="headerlink" title="Intel Inside"></a>Intel Inside</h3><p>就在人们纷纷认定 Intel 下一代的 CPU 会被命名为 80586 之时，Intel 却在 1993 年 3 月 22 日发布了全新的奔腾（Pentium）处理器。这个新造出来的单词由希腊语中的五”penta”与拉丁语中用于命名元素的词尾”ium”组成。奔腾处理器是 Intel 首次用商标命名自家的处理器，从此，Intel 家的处理器受到了商标权的保护。</p>
<p>奔腾带来的不止是新的名字，还有新的架构。在被内部命名为“P5”的微架构中，Intel 首次引入了超标量体系，简单说来就是可以使处理器内部的多个执行单元并行化执行指令，提升效率；另一个重大改变发生在 486 转移进处理器内部的高速缓存上，从原先的通用（可以同时存放指令和数据）缓存分成了专用缓存，一半存指令，一半存数据，这种缓存设计至今仍然被保留着。</p>
<img src="/images/L1_cache_2_parts.png" width=40% />

<p>同时，Intel 开始大力推进品牌宣传，那段由五个音符组成的短旋律搭配上”Intel Inside”成为了 Intel 后来用了二十多年的经典宣传组合，深入人心。</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/cW8LLhHq9_c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>



<h3 id="Wintel"><a href="#Wintel" class="headerlink" title="Wintel"></a>Wintel</h3><p>上世纪九十年代中期，Intel 俨然已经成为了 PC 行业的领头羊，由它参与主导制定了多种业界标准，比如用到今天的 USB 就是典型的例子。那么为什么 IBM 没能保持住自己在 PC 市场中的标准制定者的地位呢？让我们把时间倒回到八十年代。</p>
<p>上文提到，PC 标准是根据 IBM PC 来的，但它更是一种开放标准，想要以一己之力控制一个有数百家企业参与的开放标准，是一种妄想，而 IBM，正好就是这个做白日梦的人。1987 年，IBM 推出了 PS/2 系列机型，其中使用的扩展总线为 IBM 新设计并专有的 MSA 总线，这与市面上已经大量存在的 ISA 卡不兼容。而数量众多的制造商也不愿意使用新的 MSA 标准，首先，用新的总线制造扩展卡要向 IBM 缴纳一笔专利使用费，这与之前 ISA 总线的开放态度截然相反；其次，新的卡只能用在新的 IBM PS/2 系列机型上面，无法与市场主流所相容。所以最终妄想通过新机型来重获 PC 标准主导权的 IBM 并没有得逞，反而逐渐被时代所抛弃。</p>
<img src="/images/creative_sound_card_ISA.jpg" width=40% />

<p>但是业界还是需要一个领导者，需要有人出来振臂一呼建立规范行业标准，这个位置，由全面占有 PC 处理器市场的 Intel 来坐，最为合适不过了。</p>
<p>Intel 也当仁不让，1992 年，它开始将自家的 PCI 标准随着处理器一起推向市场，同时联合 PC 市场中几个占有率比较高的厂商，成立了 PCI-SIG 联盟，以开放共赢的态度推广 PCI 标准，最终 PCI 成功取代了之前的 ISA 等总线，成为了行业通用标准，甚至连使用 IBM PowerPC 架构的苹果麦金塔系列电脑都开始使用它。而后来的 USB 也是相似的发展历程：Intel 联合了许多业界巨头一起制定标准，并且不收取授权费用，而也正是因为这些原因，USB 在九十年代与 IEEE 1394 的战争中获胜，一直沿用到了今天。</p>
<p>而另一边的软件行业，微软的 Windows 逐渐占据了桌面端操作系统的领先地位。不出乎意料的，两个行业巨头走到了一起，Wintel 联盟顺利成为了整个 PC 行业的主导者，一直到二十年后的今天，仍然没有人能够撼动这个地位。一台使用着 Intel 的 CPU 和微软的 Windows 操作系统的个人计算机，就是人们口中最常说的电脑。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>PC 已经统治了人们的桌面电脑，CPU 行业也被 Intel 所把持着，但对于游戏玩家而言最为重要的显卡，我们一点都没有涉及到。事实上，在九十年代初期，桌面端的图形显示也就是刚刚才起步的样子，下一章，我们将把重点转向显卡领域，感受一下那些经典的老游戏们和在它们背后工作着的老显卡们。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a><a class="tag-link" href="/tags/Hardware-History/" rel="tag">Hardware-History</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/03/pc-hardware-history-2/">
      PC 硬件史话（二）
    </a>
  </h2>
  
  <time>
    Mar 31, 2019
  </time>
  <section class="content">
	  <h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>这期史话笔者将视点从 CPU 这个单一元件转移开，来讲讲 PC 标准出现前的那些故事。</p>
<h2 id="DEC-与小型机"><a href="#DEC-与小型机" class="headerlink" title="DEC 与小型机"></a>DEC 与小型机</h2><p>Minicomputer，中文中多称为小型机，用今天的眼光来看，小型机其实并不小，大多数都还是有个立柜那么大。不过在微型计算机出现之前，小型机占据了计算机市场的大半江山，而要说起小型机，不得不提的就是影响了整个计算机历史的 PDP 系列和它背后的创造者—— DEC 公司。</p>
<h3 id="从-TX-0-到-PDP-1"><a href="#从-TX-0-到-PDP-1" class="headerlink" title="从 TX-0 到 PDP-1"></a>从 TX-0 到 PDP-1</h3><p>让我们把时间倒回到上世纪四五十年代，现代计算机刚诞生不久的时候。那时的计算机动辄几个书柜的大小，更大的可能占据几个房间，并且造价普遍十分昂贵。而从六十年代开始，随着晶体管和集成电路的大规模应用，计算机开始了小型化之路。首先出现的，是 1956 年由麻省理工学院林肯实验室<em>（MIT Lincoln Laboratory）</em>研发出的首台全晶体管计算机—— TX-0，这台计算机不久之后被 MIT “借走”拿去当教学仪器了。</p>
<img src="/images/tx-0.jpg" width=40% />

<p style="text-align: center;">TX-0</p>

<p>随后，两名 TX-0 的工程师肯·奥尔森（Ken Olsen） 和 Harlan Anderson 在 MIT 注意到了一个奇怪的现象：明明学院里有同样提供给学生用并且更快的 IBM 的大型计算机，但学生就是喜欢在 TX-0 那儿排长长的队伍来尝试一下它。思索之后，他们认为小型计算机是有市场前景的，并且不是所有人都需要大型机那么强的性能，对于某些特定用途，低成本的解决方案就可以满足需求了；还有些用户往往更在意机器的图形输出或是实时可操作性而非机器的性能。</p>
<p>于是在 1957 年，TX-2 项目遇到严重困难之后，他们便离开了实验室，想用自己的理念拉到投资来推出产品。然而当时业界并不景气，小公司不断成立又破产，而诸如 RCA 和通用电气之类的大公司在计算机市场也讨不到好处。他们千辛万苦才拉到美国研究发展公司<em>（American Research and Development Corporation）</em>公司的投资，不过投资人 Georges Doriot 出于对市场的担心，要求他们变更原来的商业计划，把重心少放在计算机业务上一点，甚至还要求他们把公司的名字从原来的「数字计算机公司<em>（Digital Computer Corporation）</em>」改成了「数字装备公司<em>（Digital Equipment Corporation）</em>」（后文简称 DEC）。</p>
<p>没有办法，公司开头只能听投资人的，DEC 开始生产名为「数字实验室模块」的系列产品，这是一种集成了电子元件和晶体管的电路板，可以用来组建计算机。结果推出之后还挺受其他计算机公司欢迎的，他们买来组建测试自己系统的设备，在不景气的五十年代末期，这个产品线让刚成立的 DEC 开始盈利了。</p>
<p><img src="/images/dec-digital-laboratory-module-hp-computerhistory.jpg" alt="DEC Digital Laboratory Modules"></p>
<p style="text-align: center;">数字实验室模块</p>

<p>有了成功的产品线之后，DEC 开始将重心重新转回他们最初想做的小型机上。很快，在 1959 年末，采用新设计的计算机诞生了，同样为了规避风险，新的计算机的命名避开了 Computer 一词，新造了「可编程数据处理器<em>（Programmed Data Processor）</em>」这样一个有些拗口的名词。新的机器是系列第一台，即为 PDP-1，比起它需要占用半个房间的祖先 TX-0 来说，它小了很多，而性能却更强。它还拥有一块配套的 CRT 显示器，具有高速显示点阵的能力，用特殊的指令就可以让上面显示图片，这也是最早具有图形显示能力的机型之一。后来在 1961 年 9 月，DEC 向 MIT 捐赠了一台 PDP-1，就摆在 TX-0 的旁边。</p>
<p>PDP-1 的特殊意义不仅仅在于它的小型化上，更在于更深远的文化层面上。这款机型不但推动了黑客文化的发展，还孕育出了最早的电脑游戏——《太空大战<em>（Spacewar!）</em>》。对于软件领域来说，它更是意义非凡——一系列直到如今我们都仍在使用的软件类型的开山鼻祖就是在 PDP-1 上开发运行的，比如最早的文本编辑器（Notepad 记事本类），最早的文字处理器（文字排版类软件），最早的可交互式调试工具和最早可稳定运行的国际象棋程序等。</p>
<p><img src="/images/Steve_Russell_and_PDP-1.png" alt="PDP-1"></p>
<p style="text-align: center;">计算机历史博物馆中的 PDP-1 和《太空大战》的创造者史蒂夫·拉塞尔</p>

<h3 id="PDP-8-和-PDP-11"><a href="#PDP-8-和-PDP-11" class="headerlink" title="PDP-8 和 PDP-11"></a>PDP-8 和 PDP-11</h3><p>在 PDP-1 推出之后 DEC 没有停歇，用今天的话来说就是疯狂刷机型，1960 年 PDP-3，1962年 PDP-4，1963 年 PDP-5，1964 年 PDP-7。这其中有的销售不佳，如 PDP-4 就非常惨淡，而 PDP-6 项目则直接因为市场反映不佳而直接搁浅；但继续走小型化之路的 PDP-5 却非常受市场欢迎。于是，秉承着 PDP-5 的理念，在此基础上进行大幅度改进的 PDP-8 被刷出来了。</p>
<p><img src="/images/pdp-8.jpg" alt="pdp-8"></p>
<p style="text-align: center;">PDP-8</p>

<p>1965 年 3 月 22 日，PDP-8 发布，这是一台可以放在桌上使用的小型机，比起它的前辈们，在性能上可能有所不足，但是它足够“小”，而且更便宜：它标价 18500 美元，是首台售价低于两万美元的小型机，后续的 PDP-8/S 甚至卖到了一万美元之下，这在当时的市场如同一颗价格炸弹一般。而市场的反映也证明了人们对它的喜爱：PDP-8 系列产品一共卖出去了 30 万台，直接推动了 DEC 在上世纪六十年代中后期到七十年代中期称霸小型机市场。</p>
<p>之后在 1970 年，DEC 推出了 PDP 系列中销量最高的机型——PDP-11，这同样也是一台无论在硬件还是软件方面都对后世有着深远影响的机器：硬件方面，PDP-11 的架构设计影响了整个后七十年代的微处理器的设计，包括 Intel 的 x86 系列处理器和摩托罗拉那著名的 68k 系列处理器；而在软件上，今天互联网世界的基石之一——Unix 系统的首次正式出现，就是在 PDP-11 上面；还有后来流行的 CP/M 及其后继者 DOS 系统等，均受到了 PDP-11 原生系统的启发。正是因为 PDP-11 优秀的、满足时代需求并有些超前的设计，使得 PDP-11 从 1970 年问世一直卖到了九十年代，总共销售六十多万台，被不少评论家誉为“最受欢迎的小型机”，比尔·盖茨曾在他的简历里着重提到过有 PDP-11 的编程经验。</p>
<p><img src="/images/PDP-11.jpg" alt="PDP-11"></p>
<p style="text-align: center;">PDP-11</p>

<h3 id="DEC-与今世"><a href="#DEC-与今世" class="headerlink" title="DEC 与今世"></a>DEC 与今世</h3><p>说到这里，让我们回头看看 DEC 创始人在 TX-0 前做出的思考，他们对于计算机小型化趋势的判断是多么的精准，而除了这点之外，DEC 还对今世有着非常重大的间接贡献，比如：</p>
<ul>
<li>与 C 语言的渊源<br>Unix 最早是用 PDP-7 的汇编语言写成的（当时还没有一个正式名字），为了移植到 PDP-11 上面，核心开发人员不断开发改进新的编程语言，而 C 语言就是这一阶段性完成产物，直到今天 C 语言标准中仍残留有 PDP-11 指令的痕迹。</li>
<li>与 Windows NT 的渊源<br>在 PDP 系列之后，DEC 继续推出了 VAX 系列，他们将其称之为超级小型机（Superminicomputer）。VAX 系列上运行的系统是重新设计编写的 VMS，其核心设计师戴夫·卡特勒（Dave Cutler）后来被微软招入麾下并领导了 Windows NT 的开发，他把 VMS 的不少理念带入到了 NT 上，甚至后来有说法称 Windows NT 是 VMS 的重新改进版本，而 NT 内核也一直被微软沿用至今。值得一提的是，戴夫·卡特勒后来还领导开发了 Azure 平台，再后来设计了 Xbox One 的系统架构。</li>
</ul>
<img src="/images/VAX-11-750.jpg" width=60% />

<h3 id="巅峰与衰亡"><a href="#巅峰与衰亡" class="headerlink" title="巅峰与衰亡"></a>巅峰与衰亡</h3><p>不过有句话说的好：“王权没有永恒”，这句话同样可以套用在 DEC 身上。回首上一篇文章，PDP-11 推出之后不久，Intel 的 8008 就登上了舞台，单片式微处理器技术的成熟使得计算机行业掀起了一波更加汹涌的微型（Micro）化浪潮，其结果直接导致了微型计算机（Microcomputer），也就是我们现在使用的这代计算机的成熟和普及。而 DEC 作为小型化的先锋，却抗拒着新的浪潮。</p>
<p>1974 年，公司的研发组已经证明了微机的可行性，甚至给出了两台原型机，然而奥尔森却选择中断了这项企划。1977 年，DEC 又同样拒绝了开发个人电脑的提案，奥尔森甚至说「个人没有理由在家里放台计算机<em>（There is no reason for any individual to have a computer in his home.）</em>（后来他澄清他说的 Computer 指代的不是现代意义上的 PC）」。</p>
<p>历史证明了 DEC 选择了一条错误的道路。八十年代初期，在看到 IBM PC 大获成功之后，他们才迟迟推出自家类似的系统，但 PC 业界最经典的定律已经开始生效了——不兼容就会死。DEC 的新品不兼容 IBM PC 标准，没办法直接运行当时需求最猛的电子表格软件 Lotus 1-2-3，他们的新系列叫好不叫座，这也为日后 DEC 的衰败埋下了伏笔。</p>
<p>八十年代中期，PDP-11 以及后继者 VAX 系列的畅销将 DEC 带上了巅峰，市值超过 2 亿美元，拥有十万雇员，是计算机业界仅次于 IBM 的巨擘，甚至可以撼动它的位置。不过巅峰之后便是下坡路，微机市场打不过 PC，小型机市场也开始被新入场的对手蚕食，管理层昏招频出，大量资金竹篮打水一场空，而原有的不少合作伙伴纷纷离去。</p>
<p>九十年代开始，DEC 已经尽显颓势，经历了各种分拆之后的公司最终于 1998 年 6 月份被当时业界最牛的康柏（Compaq）收购了。</p>
<h2 id="IBM-PC-出现前的洪荒年代"><a href="#IBM-PC-出现前的洪荒年代" class="headerlink" title="IBM PC 出现前的洪荒年代"></a>IBM PC 出现前的洪荒年代</h2><p>愈演愈烈的微型化革命年代里，可谓是群雄四起。1972 年末，一家法国公司用 Intel 8008 为核心开发出了一款计算机，并用了 “Micro-ordinateur” 作为它的注册商标，在英语中，这个词等价于 Microcomputer。不过发明这个词的人并不是他们，而是大名鼎鼎的艾萨克·阿西莫夫（Isaac Asimov），他在 1956 年的短篇小说 <em>The Dying Night</em> 就已经使用了这个词。</p>
<p>Intel 8008 似乎特别受欢迎，早期的微机大多采用了 8008 作为他们机型的中央处理器。1974 年 4 月，Intel 发布了 8008 的加强版——8080。就是这枚处理器，真正拉开了微机普及的序幕。</p>
<h3 id="Altair-8800"><a href="#Altair-8800" class="headerlink" title="Altair 8800"></a>Altair 8800</h3><p>现在一般认为的首台商业成功的微型计算机就是 MITS 公司在 1974 年出品的 Altair 8800，而且这是 MITS 转型做计算机之后的第一个产品，在这之前 MITS 的主营产品是计算器。1972 年，由于 TI 的强势介入，计算器市场不好混了，MITS 的老板艾德·罗伯茨（Ed Roberts）决定转型去做计算机。1974 年他选定了当时刚发布不久的 Intel 8080 作为中央处理器，不过因为 8080 的官方定价略高，决心做平价计算机的罗伯茨跑去跟 Intel 砍价，他有着多年的 OEM 采购经验，谈价很厉害；而 Intel 那时候主营业务还是存储芯片，不懂小批量微处理器的定价。所以最终罗伯茨成功地把单片价格从 360 美元谈到了 75 美元。</p>
<p>十月份，他们完成了第一台原型机，并快递给了《大众电子<em>（Popular Electronics)</em>》杂志社，结果不巧的是，他们撞上了快递公司的罢工潮，杂志社并没有收到这台原型机。幸好，他们提前联系的杂志编辑手上已经有了不少这台机器的照片，于是在当年年末出版的杂志封面上，Altair 8800 正式登场了，这是一台可扩展的实用微型计算机，整台机器只需 439 美元！<br><img src="/images/Popular_Electronics_Cover_Jan_1975.jpg" alt="Popular_Electronics_Cover_Jan_1975"></p>
<p>七十年代初，计算器和电子游戏的普及让大众认知了计算机的威力，而数字化产品也吸引着越来越多的电子爱好者。于是这么一台平价但是实用，而且扩展性还不赖的机器一上市就火了。这是罗伯茨自己也没想到的事情，原本他预想能卖 800 台已经很不错了，结果一个月内他们就收到了一千份订单，五月末的时候这个数字已经变成了 2500 台，到了八月，这个数字又翻了一番，还有不少订单是直接买组装好的机器。</p>
<p>而在 Altair 8800 身上最出名的故事可能已经为很多人所熟知了：我们亲爱的比尔·盖茨和他的好友保罗·艾伦为它开发了一套 BASIC 语言解译器，并察觉到了软件行业存在的巨大机遇，随后便创立了 Micro-Soft。<br><img src="/images/altair-8800.jpg" alt="img"></p>
<p>在 Altair 8800 之后，许多公司察觉到了新的商机，于是乎类似的微型计算机如雨后春笋般开始出现，它们大多采用一块 8bit 的处理器比如 Intel 的 8080 或者 Zilog 的 Z80，采用了兼容 Altair 8800 的 S-100 总线，运行着 CP/M 之类的操作系统。在这波创业大潮中，就有苹果电脑公司，他们的 Apple II 获得了巨大的成功。也是摆这股潮流所赐，越来越多小公司也能用得起计算机来做数据库管理、会计还有文字排版之类的活。</p>
<img src="/images/Apple_II.jpg" width=60% />

<p>不过最终使得微机走入千家万户的，还是有请我们的主角——PC。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>所谓合久必分，分久必合，微型计算机野蛮生长了足够长的时间了，是时候该有人出来一统江湖了！</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://www.computerhistory.org/pdp-1" target="_blank" rel="noopener">PDP-1 Restoration Project</a></li>
<li><a href="http://www.computer-history.info/Page4.dir/pages/PDP.1.dir/index.html" target="_blank" rel="noopener">The PDP-1</a></li>
<li><a href="https://www.bell-labs.com/usr/dmr/www/chist.html" target="_blank" rel="noopener">The Development of the C Language</a></li>
<li><a href="https://xueqiu.com/3993902801/83078596" target="_blank" rel="noopener">DEC创始人、小型机之父：肯·奥尔森</a></li>
<li><a href="https://www.computerhistory.org/revolution/minicomputers/11/331" target="_blank" rel="noopener">DEC’s Blockbuster: The PDP-8 - CHM Revolution</a></li>
</ol>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a><a class="tag-link" href="/tags/Hardware-History/" rel="tag">Hardware History</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/03/pc-hardware-history-1/">
      PC 硬件史话
    </a>
  </h2>
  
  <time>
    Mar 4, 2019
  </time>
  <section class="content">
	  <h2 id="成立之初的-Intel-和-AMD"><a href="#成立之初的-Intel-和-AMD" class="headerlink" title="成立之初的 Intel 和 AMD"></a>成立之初的 Intel 和 AMD</h2><h3 id="Intel-篇"><a href="#Intel-篇" class="headerlink" title="Intel 篇"></a>Intel 篇</h3><p>书接上文，NM Electronics，在创立的头个月底改名成 Intel。据称，Intel 这个名字是启发自 <em>int</em>egrated 和 <em>el</em>ectronics 的整合。</p>
<img src="/images/Intel_old_logo.png" width="30%" />

<p>Intel 成立初期的主要业务并不是微处理器的开发与制造，而是瞄准半导体存储器市场，公司的首款产品便是 SRAM（静态随机存取存储器，现多见于 CPU 内部）—— Intel 3101。</p>
<img src="/images/Intel-3101.jpg" width="40%" />

<p>3101 推出于 1969 年，比当时市场上的同类产品快了接近一倍。同年，Intel 还推出了 1101 和 3301 两款产品，前者是创新性地将 MOSFET 工艺运用于存储器制造的产物，后者则是一款只读存储器（<strong>R</strong>ead-<strong>O</strong>nly <strong>M</strong>emory）。虽然 3101 和 1101 这两款产品都颇具创新意义，但是影响并不大。真正使 Intel 开始出名的，是 1970 年发售的 1103——世界上第一款商用的 DRAM（动态随机存取存储器，也就是今天最常见的内存类型）。1103 在 1972 年成为了最为畅销的半导体存储芯片，并成功地在许多应用场合完成了 Intel 原本的设想——取代当时最流行的磁芯存储器（Magnetic-core memory）。</p>
<h3 id="AMD-篇"><a href="#AMD-篇" class="headerlink" title="AMD 篇"></a>AMD 篇</h3><p>与 Intel 不同的是，AMD 在成立之初原本是仙童半导体和国家半导体（National Semiconductor）第二供货商，专注于制造芯片，并引入了美国军方标准作为质量管理标准。要知道，在早期的计算机工业里，微芯片不可靠的质量是各大客户都极力想避免的问题，所以 AMD 靠这个赢得了一些优势。</p>
<p>在 1969 年 11 月，AMD 推出了它自己的首款产品：Am9300，一款移位寄存器。之后陆续推出了一系列畅销的元器件。</p>
<p>在 1971 年，AMD 进入了内存芯片市场，同年公司的销售额就已经达到了四百六十万美元。</p>
<p>到 1975 年，AMD 一共生产着 212 种产品，其中 49 种是自主研发的。</p>
<h2 id="4004-与-8008"><a href="#4004-与-8008" class="headerlink" title="4004 与 8008"></a>4004 与 8008</h2><h3 id="Intel-4004"><a href="#Intel-4004" class="headerlink" title="Intel 4004"></a>Intel 4004</h3><p>终于讲到 Intel 的第一颗微处理器（Microprocessor），4004 的故事了。</p>
<p>1969 年，Busicom，一家日本的计算器公司拿着自己设计的一套由 12 枚 IC 组成的计算器引擎方案找到了刚成立不久的 Intel（其实是 Intel 主动去接触的），想让他们完善并生产这套引擎。然而 Intel 方面给出了一套更加优雅的方案，1971 年初，由 Federico Faggin 领导的开发团队设计出了一套只需要 4 枚芯片就可以取代原来的 12 枚芯片的芯片组，也就是后来的 MCS-4 芯片组，其中的核心便是大名鼎鼎的 4004。</p>
<img src="/images/intel-4004.jpg" width="40%" />

<p>4004 使用了 10 微米的制程，一共集成了约 2300 个晶体管，最高主频为 740 kHz，数据位宽为 4 bit，每秒最多能执行约 92000 条指令。这些参数在当时虽然并不是最强的，但因为它是市场上首款通用可编程处理器，又是全球首款商用单片微处理器，所以就像 1971 年 11 月 15 日 Intel 在 Electronic News 上刊登的广告语说的那样，它在集成电子领域开创了一个新的纪元。</p>
<img src="/images/intel-4004-ad.jpg" width="40%" />

<p>4004 直到 1981 年才停产，期间推出了 4040 作为它的加强版。这里有一段 4004 发布三十五周年纪念会的录像，其中有两位设计师的演讲，感兴趣的朋友可以去看看：<a href="https://www.youtube.com/watch?v=j00AULJLCNo" target="_blank" rel="noopener">Intel 4004 Microprocessor 35th Anniversary</a></p>
<h3 id="Intel-8008"><a href="#Intel-8008" class="headerlink" title="Intel 8008"></a>Intel 8008</h3><p>8008 与 4004 实际上是两个独立进行的项目，8008 项目开始的时间甚至可能早于 4004。而 8008 背后的故事，则是非常有趣：</p>
<p>Computer Terminal Corporation (CTC) 是当时刚成立不久的一家设计制造小型桌面终端的公司，1967 年他们推出了一款非常受欢迎的机型：Datapoint 3300。</p>
<img src="/images/DataPoint_3300.jpg" width="40%" />

<p>这款机型虽然卖的不错，然而它的小毛病可是不少，比如发热问题就是其一。为了解决这台机型上存在的问题，CTC 开始考虑采用单片 CPU 的设计来改进内部电路，于是公司掌门人之一的 Roche 找到了罗伯特·诺伊斯，交流了这个想法。诺伊斯觉得这是个绝妙的点子，而且 Intel 有能力做，但是这样子干很蠢：“一台计算机只能卖一块主处理芯片，但是可以卖数百颗存储芯片”。另一个考量则是当时 Intel 的存量客户几乎都是买他们的存储芯片搭配自己研发的处理器，而一旦 Intel 开始卖自家的处理器了，那么它和客户间就可能会形成竞争关系，原本的客户可能会另寻供应商。</p>
<p>但最终诺伊斯还是在 1970 年初和 CTC 签下了价值 50000 美元的开发合同，不过呢，CTC 同时还找了德州仪器作为它们的备胎。</p>
<p>接下来的故事就众说纷纭了，英文维基上给出的这个缺少来源的说法是 TI（德州仪器）拿到了 Intel 的早期设计，并做出了样片，但是有许多 bug，被 CTC 给否了。Intel 自己的进度也不顺利，推迟了。结果呢，CTC 那边等不及了，还是用了老而成熟的方案在 1970 年 3 月末推出了改进型新品：Datapoint 2200。这新品都出了，那么自然也就不需要原来计划的配套处理器了，所以 CTC 叫停了代号为 1201 的芯片的研发。</p>
<p>半年过去了，似乎是注意到了 4004 的成功，有家计算器生产商向 Intel 表达了想把 1201 芯片用在他们家的科学计算器上的想法。正巧隔壁 4004 项目已经完成了，我们的老熟人 Federico Faggin 过来接手了 1201 项目，他们对原来的设计进行了一些小调整。最终在 1971 年的晚些时候，Intel 把完成版的 1201 送到了 CTC 手上。</p>
<p>结果 CTC 为了推出新的产品，已经不满足于 1201 所提供的性能，于是他们砍掉了这个项目，用 1201 身上的所有知识产权代替五万美金向 Intel 支付了费用。随后 Intel 将这款产品更名为 8008，并在 1972 年 4 月份将它以 $120 的价格放进了自家的产品目录里，他们原本担心的老客户流失问题也没有发生，反而延续了 4004 在商业上的成功。</p>
<img src="/images/Intel_8008.jpg" width="40%" />

<p>与 4004 一样，8008 也是采用的 10 微米制程，集成了约 3500 个晶体管，早期版本主频为 500 kHz，后来升高至 800 kHz。但因为数据位宽为 8 bit，所以实际性能比 4004 还是要高不少。</p>
<p>8008 最大的意义还是在它的设计上，后来 1974 年 4 月份发布的 8080 延续了它的设计，而 x86 的开创者 8086 则是继承了 8080 的指令集，所以说 8008 是现在所有 x86 CPU 的老祖宗也不为过。</p>
<h2 id="AMD-的逆向工程"><a href="#AMD-的逆向工程" class="headerlink" title="AMD 的逆向工程"></a>AMD 的逆向工程</h2><p>1974 年，Intel 推出了 8080 微处理器。AMD 此时想进入微处理器的市场，于是他们搞到一块早期的 8080 芯片，对其展开了逆向工程：显微拍照，用照片捣鼓出了原理图和逻辑图，然后研发出了自己的第一款微处理器：Am9080。</p>
<img src="/images/AMD_Am9080.jpg" width="40%" />

<p>Am9080 的制造成本只需要 50 美分，但却以 700 美元一片的价格卖给军用市场。结果不久之后 Intel 就与 AMD 签署了一份协议，AMD 成为了 8080 的授权第二供应商，这使得两家可以联合打入那些不接受单一供货源的市场，这份协议也给后来的故事埋下了伏笔。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>虽然 Intel 研发出的这两款单片型处理器的性能都挺一般的，但还是有不少业界人士和爱好者注意到了这种类型的处理器的远大前景——可以加速计算机的小型化，而事实上，在七十年代中期，已经有几家公司开始尝试用 Intel 的芯片设计制造小型的计算机了。</p>
<p>下一章，笔者将会把主视角从 CPU 转开，尝试讲述一下 IBM PC 兼容标准诞生的故事。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a href="https://newsroom.intel.com/news/intel-at-50-intels-first-product-3101/" target="_blank" rel="noopener">Intel at 50: Intel’s First Product – the 3101</a></li>
<li><a href="https://newsroom.intel.com/news/intel-50-intels-1101/" target="_blank" rel="noopener">Intel at 50: Intel’s 1101</a></li>
<li><a href="http://www.mynikko.com/CPU/3101.html" target="_blank" rel="noopener">MyNikko.com 微處理器博物館 - Intel 3101</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/39804154" target="_blank" rel="noopener">纪念英特尔成立五十周年 篇一 阴差阳错</a></li>
<li><a href="https://www.intel.com/content/www/us/en/history/museum-story-of-intel-4004.html" target="_blank" rel="noopener">The Story of the Intel® 4004</a></li>
<li><a href="https://en.wikichip.org/wiki/intel/mcs-8#History" target="_blank" rel="noopener">MCS-8  - Intel - WikiChip</a></li>
</ol>
<p>英文维基不作为参考资料列出。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a><a class="tag-link" href="/tags/Hardware-History/" rel="tag">Hardware History</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2019/02/pc-hardware-history-0/">
      PC 硬件史话——序章
    </a>
  </h2>
  
  <time>
    Feb 26, 2019
  </time>
  <section class="content">
	  <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>笔者因为从小被父亲的爱好所影响，所以自然而然地喜欢上了 PC 硬件方面的东西。好多年前《微型计算机》杂志上不断有各种 PC 的元件发展史的文章，当时非常爱读这类历史传奇一般的说明文，现在有能力去直接读英文资料了，也就产生了自己写的念头。</p>
<p>思前想后几个月，我决定还是以比较方便我自己阅读的资料为主，尽量客观的以时间轴的方式来书写这段跨度长达近乎六十年的传奇历史。</p>
<p>参考的资料主要是以英文维基为主，并辅以各种其他资料来保证准确性和真实性。</p>
<p>序章里面还要讲讲这一整段传奇故事的大背景。</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><h3 id="半导体器件的发展"><a href="#半导体器件的发展" class="headerlink" title="半导体器件的发展"></a>半导体器件的发展</h3><p>十九世纪的电学研究开启了第二次工业革命，把人类带入了电气时代。随着材料科技的迅猛进步，半导体的性质逐渐被人们所掌握，这直接导致了在二十世纪初，各种新型电子元件被发明，比如现在大家非常熟悉的二极管、电子管等等。在早期，这些半导体元件的个头都比较大，而随后出现的晶体管，则开启了一场真正意义上的革命。</p>
<p>晶体管分为两种类型，一种是场效应管（Field-effect Transistor, FET），其概念由 J. E. Lilienfeld 于 1926 年提出，但限于当时的条件，没有能够生产出实际能够工作的器件。而现在普遍认为的第一支晶体管是由贝尔实验室在 1947 年发明的，参与研发的人员有 John Bardeen, Walter Brattain 和 William Shockley。 他们发明的晶体管是与 J. E. Lilienfeld 提出的场效应管不同的双极性结型晶体管（Bipolar Junction Transistor, BJT），也就是我们现在俗称的三极管。</p>
<p><img src="/images/PNP.png" />  <img src="/images/NPN.png" /></p>
<p>由于种种原因，在发明了晶体管之后，Shockley（后文译作肖克利）离开了贝尔实验室。1956 年，他在山景城创办了以他自己名字命名的肖克利半导体实验室（Shockley Semiconductor Laboratory），实验室所在的那片地区后来发展演变成为了举世闻名的硅谷（Silicon Valley）。肖克利实验室招揽了许多有志向研究半导体的年轻科学家与工程师，其中最为著名的便是日后的「八叛逆」: 罗伯特·诺伊斯（Robert Noyce）、高登·摩尔（Gordon Moore）、朱利亚斯·布兰克（Julius Blank）、尤金·克莱尔（Eugene Kleiner）、金·赫尔尼（Jean Hoerni）、杰·拉斯特（Jay Last）、谢尔顿·罗伯茨（Sheldon Roberts）和维克多·格里尼克（Victor Grinich）。</p>
<img src="/images/The_Traitorous_Eight.jpg" />

<h4 id="八叛逆与仙童半导体"><a href="#八叛逆与仙童半导体" class="headerlink" title="八叛逆与仙童半导体"></a>八叛逆与仙童半导体</h4><p>可能是因为肖克利在实验室管理以及个人性格上存在的一些缺陷，八叛逆向肖克利的上级 Arnold Beckman 要求替换掉他在实验室的位置，然而 Arnold Beckman 最终做出的一系列支持肖克利的决定使得八叛逆不得不考虑离开肖克利实验室另寻出路。</p>
<p>当时半导体器件的主要基底材料是锗，而八叛逆认为硅比锗拥有更好的商业前景，因为相对于储量不高、提炼繁杂的锗，硅可以从沙子中提炼出来，可以有效降低原料成本和生产时间。罗伯特·诺伊斯用慷慨激昂的演讲向仙童摄影器材公司的老板 Sherman Fairchild 展示了他们的愿景，并成功说服了他。随后在 1957 年，他们获得了仙童摄影器材公司的资助，创办了仙童半导体（Fairchild Semiconductor）。仙童半导体在 1958 年成功的以硅为基底开发出了一款在商业上非常成功的晶体管——2N697。随后在 1959 年，八叛逆之一的金·赫尔尼又研发出了新的平面工艺，相对于传统的台面工艺，新的平面工艺无论是在成本还是产品的稳定性上，都有着巨大的进步，这项技术至今仍在半导体制造中扮演着极其重要的角色。</p>
<img src="/images/Fairchild_ad_Electronics-1958-08-15.jpg" width="50%" />

<p>继承了前人的理念之后，在 1958 年 9 月 12 日，德州仪器（Texas Instruments）的 Jack Kilby 成功的研发出了第一块能够工作的集成电路，随后他在 1959 年 2 月 6 日为这项发明申请了专利。半年之后，八叛逆之一的罗伯特·诺伊斯成功独立研发出了另一种不同的集成电路，与 Jack Kilby 不同的是，罗伯特·诺伊斯的集成电路是以硅为基底，并且更加实用。一年之后，诺伊斯又将平面工艺运用到集成电路的制造流程上，这也使得业界更为认可仙童半导体出产的集成电路。仙童半导体在创造了一系列对后世影响深远的研究发明之后俨然已经成为了整个半导体行业的领军者。</p>
<h3 id="摩尔定律"><a href="#摩尔定律" class="headerlink" title="摩尔定律"></a>摩尔定律</h3><p>1965 年 4 月 8 日，八叛逆之一的高登·摩尔在 Electronics 杂志上发表了名为 <a href="http://hasler.ece.gatech.edu/Published_papers/Technology_overview/gordon_moore_1965_article.pdf" target="_blank" rel="noopener"><em>Cramming more components onto integrated circuits</em></a> 的文章，文中，他基于对行业发展的长久观察和思考后做出了一项具有历史意义的预测：</p>
<blockquote>
<p>The complexity for minimum component costs has increased at a rate of roughly a factor of two per year. Certainly over the short term this rate can be expected to continue, if not to increase. Over the longer term, the rate of increase is a bit more uncertain, although there is no reason to believe it will not remain nearly constant for at least 10 years. </p>
</blockquote>
<p>这就是半导体行业中著名的”Moore’s Law”的前身，在 1975 年 IEEE（电气电子工程师学会）的一次会议上，摩尔修订了预测的增长率，原本两倍的增长率将在 1980 年之后减半。年内稍晚时候，加州理工学院的 Carver Mead 教授将摩尔的预测总结为”Moore’s Law”。</p>
<img src="/images/transistors-per-microprocessor.png" width="50%" />

<p>摩尔定律事实上只是一条经验定律，但是却延续至今仍旧没有失效，甚至一定程度上在很长一段时间内指引了半导体业界的发展。</p>
<h3 id="分崩离析与传奇的开始"><a href="#分崩离析与传奇的开始" class="headerlink" title="分崩离析与传奇的开始"></a>分崩离析与传奇的开始</h3><p>让我们把目光重新对准仙童半导体。在六十年代的前五年，仙童半导体的风光一时无两，员工数量从最早的12人发展到了12000人。然而王权没有永恒，这家公司并不会这么一帆风顺下去。1965 年开始，仙童半导体在公司内部管理上开始出现了一些问题，到了 1967 年 7 月，公司已经开始亏损并且领头羊的位置被德州仪器所夺取。1968 年 8 月，罗伯特·诺伊斯、高登·摩尔和 Andrew Grove 一起从仙童半导体离职，创办了 NM Electronics，一年之后，公司更名为 Intel。1969 年，仙童半导体的一群工程师决定离开公司创业，他们找到了 Jerry Sanders 一起合伙，5 月 1 日，Advanced Micro Devices 公司成立。</p>
<img src="/images/The-Roots-of-Silicon-Valley.jpg" width="50%" />

<p>好了，演员已经全数登场，传奇即将上演。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a><a class="tag-link" href="/tags/Hardware-History/" rel="tag">Hardware History</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2018/10/latitude-5285/">
      Latitude 5285 半长测
    </a>
  </h2>
  
  <time>
    Oct 17, 2018
  </time>
  <section class="content">
	  <h2 id="换机缘起"><a href="#换机缘起" class="headerlink" title="换机缘起"></a>换机缘起</h2><p>九月底，借来大概一年的 2014 款 ThinkPad S1 yoga 在频繁的使用过程中终于不堪重用，本来进过水的屏幕彻底好不了了。没办法，总不能让我背着重六斤还没算上电源适配器的大家伙每天上下班挤地铁吧我会死的。于是，九月中旬就开始在淘宝上寻找替代用品，因为 Yoga 算是一台 2 in 1 设备，所以还是打算买一台轻便的类似设备，先是盯上了 2017 年发售的 XPS 12 2 in 1，但是因为这系列都是超低压 CPU，性能上我是无法接受的，于是继续翻，运气还不错，DELL 在 Latitude 系列中也推出了类似的 2 in 1 设备，分为使用常规低压 CPU 和常规分辨率屏幕的 5285/5290 系列和使用超低压 CPU 和高分辨率屏幕的 7285/7290 系列。我也不知道 DELL 是脑子抽风了还是一心想学习巨硬和水果的作死精神，总之 Latitude 5285 正好符合我的需求，国内某宝上面也有几家在卖官翻货，价格也是我正好能承受的范围内（学费垫着），于是在国庆前夕，在一趟回学校的公交车上我点击购买了。</p>
<img src="/images/magic-word-by-Lin-Xiaoyu.jpg" title="一句充满魔力的咒语" />

<h2 id="购机波折"><a href="#购机波折" class="headerlink" title="购机波折"></a>购机波折</h2><p>顺丰速度还是快，两天到了。我提前下了班回去准备摸新机器。没有做仔细的检查，就看了看外表没有受损屏幕没毛病之后就插盘开始装系统，结果在那个蓝偏紫的首屏，我发现了触摸屏有异样，光标停留在靠近左下角的一个点上，当时还没在意，安装完系统开始用的时候发现真不对，屏幕下部有大范围触摸失灵的情况，马上联系了卖家说明情况，卖家也没多废话就给我说寄回来给我换。</p>
<p>国庆节第一天下午，换的机器到了，这次接手后做了详细的检查，这次发现左下角屏幕不正常，有一小块应该是漏液了。跟卖家反映了情况之后还是愿意给我换一台，但是实在是懒得折腾加上其他配件都到了，也就用了下来。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>讲了两大段废话，终于开始正文了，首先先夸一夸这机器。</p>
<h3 id="良心"><a href="#良心" class="headerlink" title="良心"></a>良心</h3><h4 id="预留天线"><a href="#预留天线" class="headerlink" title="预留天线"></a>预留天线</h4><p>相比起北美良心想，DELL 着实良心不少。比如连 ThinkPad X1 这种机型，你只要是不选配 WWAN 模组，那么你到手的机器里面是不会给你预留 WWAN 的天线的。而 DELL 就不一样了，无论哪个配置都是给你预留好了天线，你想要自己加，买张卡装上去就可以了。但比较遗憾的是，5285/5290 这个型号，不购买带有指纹的机型是不会给你来个留指纹位的后盖的，也就是说除非你愿意在后盖上打个孔，不然是无法使用主板上预留的指纹等设备的接口的。</p>
<h4 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h4><p>为什么这里要提一句 BIOS 呢？因为我是北美良心想垃圾 BIOS 的长期受害者，原先的国行版 S1 Yoga 使用的单 2.4 GHz 的网卡，而且在 BIOS 里面指定了能够使用的网卡硬件 ID，使得用户无法自行更换更好的网卡。又因为 R6250 的坑爹 2.4GHz 问题，我没有办法让 S1 Yoga 和我的其他设备共存于同一网段下，要么是委曲求全使用性能更差的外部路由当主网关。而 DELL 就不同了，不仅仅不锁设备，BIOS 设定还非常详细实用，除了自带的诊断之外甚至连锁不锁 BIOS 的升降级都给你提供了开关。</p>
<h4 id="手册"><a href="#手册" class="headerlink" title="手册"></a>手册</h4><p>DELL 的 Owner’s Manual 是我见过的最详细的笔记本手册，手册中事无巨细的提供了包括但不限于机型参数、拆机方法、拆卸安装配件的方法等等等等。跟着这份手册来，你完全没有看网上拆机教程的必要。</p>
<h3 id="好"><a href="#好" class="headerlink" title="好"></a>好</h3><h4 id="LTE-amp-GPS"><a href="#LTE-amp-GPS" class="headerlink" title="LTE &amp; GPS"></a>LTE &amp; GPS</h4><p>我现在要吹爆所有预留 M.2 2240 的机器，因为加一个 WWAN 模组加上电信的 20GB 限速卡真的太方便了。Windows 10 对于 WWAN 设备的支持度也相当不错，提供了众多限制后台跑数据的开关，就是传统桌面程序不支持就是了。当时买卡的时候正值 iPhone XS (Max) 发售，Intel 基带背锅的时间段，所以心一狠加了一点钱买了高通的卡（Intel 的卡支持到 Cat.4，而高通的是 Cat.6），实测出来电信 LTE 的速度相当可以，昨天甚至跑出了 4.2 MiB/s 的平均速度。因为这卡还自带 GPS 功能，所以使用系统自带的地图是可以看到实时位置的，照理说其他应用也可以直接使用它提供的 GPS 数据，但最近还没空研究这个，等下次上飞机前看看。</p>
<h4 id="电磁屏"><a href="#电磁屏" class="headerlink" title="电磁屏"></a>电磁屏</h4><p>其实原来的 S1 Yoga 国外版本是自带电磁屏的，但是北美良心想在国行版本上以更贵的价格发售了不带电磁屏的版本。我是一直都想买个带电磁屏的设备来记笔记的，结果到了大四出去实习了才拥有这么一台。DELL 采用的电磁压感技术来自于熟悉的 Wacom，笔并没有随机附送，还好也不算是太贵，将近 300 大洋一支还是比水果家的强不少的。但是还是要吐槽一下巨硬，宣布 OneNote 免费之后，连 Office 365 中默认都不带上桌面版的 OneNote 了，默认启用的是 UWP 版本的 OneNote。不过因为之前用的少也不太清楚这两者有什么区别，总之压感至少是没有问题的。</p>
<h4 id="散热"><a href="#散热" class="headerlink" title="散热"></a>散热</h4><p>当初机子还没到手的时候寻找了一些国内用户的评测来看，不知为何这模具的散热相当了得，虽然是主动散热但是平常你完全感觉不到风扇的声音。而温度，比如现在我正在使用电池码字，性能设置是开到 100% 的，但是 CPU 频率不高，温度也就只有接近 40℃ ；到手时也做过温度压力测试，甚至可以将 7300U 维持满整个 28 秒不泄，以这个体积的散热系统来说已经是合格的了，更为惊喜的是，BIOS 设定相当给力，长时间烤机也还是可以维持到默频 2.6GHz 之上。而看到中文论坛有说统一模具但是换用八代低压 U 的 5290 甚至可以压住四核八线程的低压 i7。所以我对于这一块是相当满意的。</p>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><p>机器的扩展是一个 USB 3.1 Gen 1 Type A 以及两个支持 DisplayPort 输出的 USB-C 口，虽然 USB-C 口不支持 Thunderbolt™ 3，但是两个之多的数量比起只带一个 USB Type A 的 Surface Pro 来已经完全是秒杀了。另外 DELL 在推进 USB PD 上也算是比较积极的，在 BIOS 中将供电方式设置为 ExpressCharge 之后就可以开启快充，实测在用 Apple 87W 适配器时充电真的快了很多，而自带的适配器是 45W 的。</p>
<h4 id="携带"><a href="#携带" class="headerlink" title="携带"></a>携带</h4><p>携带真的非常方便，键盘一盖就跟平板毫无区别直接拿走。值得一提是这个键盘（保护盖），它 有 键 程。据某位不愿意透露姓名的沙包说，只要是有键程的键盘就比采用新键盘的 MBP 的强，实际体验了一下，果真如此，MBP 上的新键盘甚至不如 Macbook 12 上面的那块同样几乎没有键程的键盘。并且触摸板面积也不算太小，就是手感上确实比不上 S1 Yoga 那个“带弹簧”的触摸板。</p>
<p>因为自带自适应的支架，有桌子的时候竖着放上面一按支架就弹出来了，就是支架的最小角度稍微大了一些，在床上用的时候不是太舒服。</p>
<h3 id="不太行"><a href="#不太行" class="headerlink" title="不太行"></a>不太行</h3><h4 id="屏幕"><a href="#屏幕" class="headerlink" title="屏幕"></a>屏幕</h4><p>夸了电磁屏，但是对于这块屏幕还是有不满意的地方。不知道 DELL 是为了节约成本或是其他什么原因，分辨率虽然完全合格，1920 x 1280 在 12 寸屏幕上看起来已经是相当精细了。但是在色彩方面，可能就不能说准了，跟几年前的 U2312HM 比起来，色彩甚至出现了一些过饱和，而且面板应该是少了一层过滤，屏幕在镜头前存在彩虹纹，反射光源时同样可见。</p>
<h4 id="续航"><a href="#续航" class="headerlink" title="续航"></a>续航</h4><p>虽然自带的电池容量还是有 44Wh 之多，但是不知道是因为挂在 LTE 网络上同时开启了 GPS 的缘故还是 Windows 10 本身的耗电量比较大的问题，一般典型外带最长只有五六个小时电量就降到 30% 左右了（后台开着 KanColle）。也就算是基本够用的水平吧，不过至少不是超低压 CPU，这个水平已经很满意了，只是希望电池能在大点，把缺失的指纹模块那部分的空间利用起来就好了。</p>
<h2 id="抱怨两句"><a href="#抱怨两句" class="headerlink" title="抱怨两句"></a>抱怨两句</h2><p>这台机器买的我是非常的舒服，该有的都有，还带了一些惊喜给我，估计之后长久都会带着它跑来跑去了。但是提到跑来跑去就有话要说了，把本来打算写《杂》的话搬到这里来讲吧。</p>
<p>九月头上开始实习之后，深刻体会到了你国上班一族的现状，早起挤地铁挤公交，睡眠不足靠咖啡因撑，中午午休睡成一片，晚上疯狂加班。每天都是固定的日子，也难怪会把人的意志给消磨干净，难得的周末补两天觉打打游戏就没了，自然的也就没什么心思想别的东西了。</p>
<p>所以如果有还没上大学或者是刚开始大学生涯的同学，记得真的要在大学谈次恋爱，不然毕业之后真的没有时间去认真谈恋爱了。</p>
<p><code>&gt;&gt;&gt;endl;</code></p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/DIY/" rel="tag">DIY</a><a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2018/08/before-Turing/">
      GeForce RTX 前瞻——在图灵架构初来乍到之时
    </a>
  </h2>
  
  <time>
    Aug 14, 2018
  </time>
  <section class="content">
	  <h2 id="终于确认的-Turing"><a href="#终于确认的-Turing" class="headerlink" title="终于确认的 Turing"></a>终于确认的 Turing</h2><p>距离 Nvidia 发布目前主流消费市场上的显卡—— GeForce 10 系列已经过去两年又三个月了，或许是因为竞争对手实在不给力，其推出的 Vega 系列没有撼动 Pascal 系显卡统治地位的能力，又或许是新卡的配套工程出了一些问题，比如制程问题还有 GDDR 6 显存的产量问题。</p>
<img src="/images/Roadmap-2015.jpg" width=75% alt="2015 年 Roadmap" />

<p>这是一张 2015 年初，Nvidia 发布会上的路线图，上面可以很清楚地看到，Pascal 架构之后是 Volta 架构，横坐标对应着 2018。而 Volta 架构的亮相则是在去年年底，2017 年 12 月 7 日，老黄发布了 Titan V，一张价值 3000 美金的发烧级显卡。就在人们翘首期盼新的基于 Volta 架构的显卡之时，Nvidia 却迟迟没有发布新一代的 GeForce 系列，2018 年整个上半年，无数爱好者被时不时传出的一些 Nvidia 新卡的消息吊足了胃口，连新卡用的架构都有三个说法：Volta、Turing 还是 Ampere？直到 2018 年 8 月 13 日，Volta 之后的新架构 Turing 终于随着新一代 Quadro 专业级显卡正式登场了，而也证实了传闻中的 Turing 架构的真实性，以及爱好者们期待许久的新一代 GeForce 显卡就快要登场了，下面就是综合最近的一些消息对 GeForce 新系列的一些前瞻。</p>
<img src="/images/old-huang-with-QuadroRTX.jpg" width=65% alt="老黄举着新的 Quadro RTX 显卡" />

<h2 id="RTX"><a href="#RTX" class="headerlink" title="RTX"></a>RTX</h2><p>我们先从命名说起。</p>
<p>新一代的 Quadro 专业级显卡的命名方式均为 Quadro RTX x000，而早前 Nvidia 注册了关于 RTX 的一些商标，这可能预示着新系列的 GeForce 显卡命名可能在顶级显卡上会放弃使用了十年之久的 GTX 前缀（后缀），而换用 RTX 作为新的前缀。</p>
<p>那么 RTX 又代表了什么？</p>
<p><strong>R</strong>ay <strong>T</strong>racing（光线追踪）然后带个 X。</p>
<p>熟悉游戏图形的朋友可能略微知道，目前桌面级游戏几乎都是基于光栅化的渲染方式，而大家经常看到的一些电影、游戏 CG 在渲染层面则是采用了实时光线追踪的方式。在桌面级平台上实现实时光线追踪这一目标是业界一直努力的一个方向，年初微软在 Windows 10 的更新中也为 DirectX 加入了新的光线追踪 API。而现在 Nvidia 终于将这一技术带到了桌面级平台上面，用业界专家的话来说：</p>
<blockquote>
<p>This is a significant moment in the history of computer graphics, Nvidia is delivering real-time ray tracing five years before we had thought possible.  –Jon Peddie, the well-respected CEO of analyst firm JPR and a noted graphics expert </p>
</blockquote>
<img src="/images/an-example-of-Ray-Tracing.jpg" width=65% alt="实时光线追踪样图" />

<p>Nvidia 宣称其在新架构上新加入了一种 RT 单元专用于实时光线追踪，新架构在模拟真实世界场景上能 <strong>6 倍</strong>于前代，在实时光线追踪上则能做到 <strong>25 倍</strong>于帕斯卡架构。</p>
<p>所以 Nvidia 将这一特性作为新一代显卡的前缀来增强宣传作用是完全合理的。</p>
<p>这是两段近日发布的 Nvidia 的实时光线追踪的 Demo：</p>
<p><a href="https://www.youtube.com/watch?v=bFUWu387ErM" target="_blank" rel="noopener">https://www.youtube.com/watch?v=bFUWu387ErM</a></p>
<p><a href="https://www.youtube.com/watch?v=3jb3flTRykQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=3jb3flTRykQ</a></p>
<p>其中效果我只能用恁牛逼啊来叙述。</p>
<h2 id="GDDR6-显存"><a href="#GDDR6-显存" class="headerlink" title="GDDR6 显存"></a>GDDR6 显存</h2><p>不像 CPU，GPU 对于高速缓存的依赖非常之高，自 2008 年，HD 48x0 这代开始使用 GDDR5 显存到现在已经过去了十年，业界不断在为 GDDR5 续命，不过近些年来，AMD 在其高端卡上已经使用 HBM 取代了 GDDR5，而 Nvidia 也在 GTX 1080 上首次使用了 GDDR5X ，在 Titan V 上使用了 HBM 2 显存来获取更高的带宽。其继任者 GDDR6 标准在 2017 年 7 月被正式通过了，随后在今年年内，三星、镁光以及海力士这三家显存颗粒主要供应商都宣布开始出货 GDDR6 显存。</p>
<p>而 13 日 Quadro RTX 系列的发布证实了“Turing 架构将会使用 GDDR6 显存”的传闻，大概至少 GeForce 的旗舰级新卡会用上它吧。</p>
<h2 id="核心及其他改进"><a href="#核心及其他改进" class="headerlink" title="核心及其他改进"></a>核心及其他改进</h2><p>从现有的 Quadro 新卡来看，完整的 Turing 核心似乎是一个超大的核心，相比于 Pascal，其核心面积大了约 60%，晶体管数量多了约 58%，如果数字太过抽象，那么下面这张图就能很好地帮助你理解 Turing 到底大了多少。然而，即使较 Pascal 而言扩张了相当大的面积，Turing 仍然差 Volta 那么一筹（晶体管数量 21B，核心面积 815mm<sub>2</sub>）。</p>
<img src="/images/pascal-vs-turing.jpg" width=70% alt="Pascal VS Turing" />

<img src="/images/turing-architecture.png" width=70% alt="Turing 架构图" />

<p>这是官方发布会公布的 Turing 架构图，罗列一下现在已知的改进点：</p>
<ul>
<li>NVLINK 带宽增加了</li>
<li>Tensor 单元（Volta 架构引入的用于人工智能以及机器学习的单元）改进了</li>
<li>核心缓存改进了</li>
<li>视频引擎改进</li>
<li>输出支持 VirtualLink 以及 USB-C，支持新版 DisplayPort</li>
</ul>
<h2 id="11x0-or-20x0"><a href="#11x0-or-20x0" class="headerlink" title="11x0 or 20x0"></a>11x0 or 20x0</h2><p>近日，AIDA64 的新版本中包括了一些 Nvidia 的新 GPU，其中 GV 104 就被命名成了 GeForce GTX 1180。</p>
<img src="/images/AIDA64-1180.jpg" width=70% alt="GeForce GTX 1180" />

<p>然而现在 Turing 架构的正式发布似乎标志着 AIDA64 出错了。首先，按照惯例，如果新一代 GeForce 显卡使用 Turing 架构，那么其核心代号则应该是 GT xxx，考虑到已经出现过 GT 系列核心代号（GeForce 100/200/300 系列），那么可能会使用别的代号也说不定，但是 GV 开头的可能性已经很小了。其次，按照上文 RTX 一节所说，新卡应该会以 RTX 为前缀而非 GTX。</p>
<p>就在 Quadro 新卡发布之后的 14 日上午，Nvidia GeForce 的官方推特发布了一个新的疑似预告片的<a href="https://twitter.com/NVIDIAGeForce/status/1029164596903337984" target="_blank" rel="noopener">短视频</a>，以 “#BeForTheGame” 命名，视频疑似预告了在 8 月 20 日科隆游戏展上 Nvidia 将会发布新一代桌面级显卡。在视频的第 45 秒，一个一闪而过的聊天信息中发现了有趣的东西：</p>
<img src="/images/video-45s.png" alt="45 秒" />

<p>内容是一个 RayTeX 的玩家和另一个 ID 为 Not_11 的玩家的对话。</p>
<blockquote>
<p>RayTeX: new build?</p>
<p>Not_11: No haha I wish, some got this at work</p>
<p>RayTeX: you getting on??</p>
<p>Not_11: eating, gimme 20</p>
</blockquote>
<p>两个非常有趣的 ID，一个缩写为 RTX 另一个叫不是 11，可能是官方剧透。最后一句 eating, gimme 20 与其 ID 相呼应，貌似下一代命名为 GeForce RTX 20x0 已经是板上钉钉的事情了。</p>
<p>但是新卡仍然没有发布，谁知道呢。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2018/05/new-laptop/">
      再见，老伙计；你好，新朋友
    </a>
  </h2>
  
  <time>
    May 12, 2018
  </time>
  <section class="content">
	  <p>前略，上周日，一次突如其来的停电袭击之后，我那本来就已经处在崩溃边缘的 K610D 终于不得行了，进系统之后必蓝屏，而且此次蓝屏的 Code 还不一样（说实话可能我基本上把 Windows 10 能出现的蓝屏代码全看了一遍了）。花了半天尝试了各种修复后故障依旧，没有办法之下，只得跟父亲申请新机器的资金——其实已经延长了非常久的时间了，自从两年前进过水之后我就知道必然会有这么一天到来的——再花了四分之一天在限定资金下确定了现在这台新伙计，用的蓝天 W65KJ 的模具。<br>配置最基本两个大件新旧对比：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">K610D-i7d2</th>
<th align="center">W65KJ</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CPU</td>
<td align="center">Intel Core i7 4710MQ</td>
<td align="center">Intel Core i3 8100</td>
</tr>
<tr>
<td align="center">GPU</td>
<td align="center">NVIDIA GeForce 940M</td>
<td align="center">NVIDIA GeForce GTX 1050</td>
</tr>
</tbody></table>
<p>之所以新机器选择了 W65KJ, 原因有二：</p>
<ol>
<li><p>散热强劲</p>
<p>因为用的是桌面级 CPU, 所以 CPU 部分是用了双热管来压的，而且 CPU 与 dGPU 各用了一个风扇来分散热量。之前因为在 K610D 上面吃尽了散热差的苦头，所以这次舍弃了拥有更好扩展接口的另一个型号，也要散热系统非常强劲。</p>
<p>测试下来非常令我满意，在风扇全开的情况下能把 CPU 压在 65 度附近，四核频率稳定标称的 3.6 GHz 运行，dGPU 也压的非常好。</p>
</li>
<li><p>可扩展性强</p>
<p>因为用的是桌面级 Core 8 代 CPU, 所以机器上直接给了两个 M.2 接口，两个均支持 NVMe 协议。而且因为散热系统仍有余裕，所以后续升级至 Core i5 是非常可行的提升性能的办法，甚至 i7 都有一试之力。</p>
</li>
</ol>
<p>京东速度还算是不错，第二天周一中午机器到手的时候是 8GB 2400 的英睿达单条 DDR4 内存加上一条金士顿的 128 GB 的 TLC 条子，成本原因自然是走 SATA 协议的，但是够用是够用了，就是容量太小了，于是当天下午就下单了另一条英睿达 DDR4 2400 8GB 和三星的 SM961 256GB, 最谢天谢地的是最近的内存条和 SSD 都有一些降价，不然得是大出血。</p>
<p>犹豫是周一下午五点——一般快递停收时间——之后才淘宝下的单，所以内存到了周五才到，而 SM961 却到了周三还没发货，咨询了卖家：“没货，明天或者后天到”。我可去你妈的，换店，之前物色 NVMe SSD 的时候在 XG3 和 SM961 之间纠结，然后这时候在淘宝上看到一家拆机 XG3 512GB 才卖九百出头的店，果断付款。</p>
<p>然后今天周六下午，终于是到手了。赶紧插上装好东芝家的驱动跑个分，果然 NVMe + MLC 的组合数据上非常吓人。马上迁移系统，结果文件都是复制完了却在启动上栽了跟头。</p>
<h2 id="系统迁移引导处理"><a href="#系统迁移引导处理" class="headerlink" title="系统迁移引导处理"></a>系统迁移引导处理</h2><p>在 UEFI + GPT 环境下直接复制全盘复制文件到新分区是可行的，前提是你的 NVMe 在原来的系统中要被认过一次，系统的设备管理器中的“存储控制器”一项出现了 NVMe 控制器，这是迁移可行的大前提。</p>
<p>文件复制完毕之后，你还需要做两个事情，否则，是进不去新驱动器上的系统的：</p>
<h3 id="改变注册表中默认分配盘符"><a href="#改变注册表中默认分配盘符" class="headerlink" title="改变注册表中默认分配盘符"></a>改变注册表中默认分配盘符</h3><p>首先你需要一个可用的注册表编辑器，定位到 <code>HKLM\SYSTEM\MountedDevices</code> 下，将 <code>\DosDevices\新系统所在的盘符:</code> 的值复制下来。挂载上新系统的注册表文件（通过文件-加载配置单元读取 <code>Windows\System32\Config\SYSTEM</code> 文件），然后定位到相同的项，将之前复制的值覆盖掉 <code>\DosDevices\C:</code> 的值即可。</p>
<h3 id="写入新的-BCD-配置"><a href="#写入新的-BCD-配置" class="headerlink" title="写入新的 BCD 配置"></a>写入新的 BCD 配置</h3><p>然后你需要一块系统安装盘，启动到系统安装界面，调出命令行(Shift + F10), 然后将新系统所在的分区的盘符挂成 “C”, 同时要给新硬盘上的 ESP 分区分配一个盘符，使程序能够写入文件，大概过程如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">diskpart</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">list disk &#39;查看磁盘列表</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">sele disk x &#39;x 是你新磁盘在列表中的编号</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">list part</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">sele part x &#39;x 是你新系统所在的分区编号</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">assign letter&#x3D;C &#39;分配新系统所在分区的盘符为 C</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">sele part y &#39;y 是这块磁盘上的 ESP 分区编号</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">assign letter&#x3D;Y &#39;给 ESP 分区分配 Y 的盘符</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">exit &#39;退出 diskpart</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">bcdboot C:\windows &#x2F;s Y: [&#x2F;v] &#39;将 C:\Windows 作为启动目录写入到 Y: 上，&quot;&#x2F;v&quot; 为可选参数，即详细模式</span></pre></td></tr></table></figure>

<p>重启之后就搞定了。</p>
<hr>
<p>那么，这台机子就这么算是正式启用了吧，之后会攒钱买块 Core i5 给换上就算是完全大功告成了，但愿它能陪我长一些时间吧。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/DIY/" rel="tag">DIY</a><a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a>
	  </div>
    

  </section>
</article>
  
    <article class="post ">

  
  <h2 class="title">
    <a href="/2018/03/about-AA/">
      关于抗锯齿
    </a>
  </h2>
  
  <time>
    Mar 11, 2018
  </time>
  <section class="content">
	  <p>今天听 Gadio News 的时候，最末尾一段提到了希望有人能来讲讲抗锯齿技术。才疏学浅，但是前几年看 MC 的文章还是知道一点相关内容，所以就来看着维基写写看，如有不正之处劳请指出。</p>
<h2 id="锯齿与抗锯齿"><a href="#锯齿与抗锯齿" class="headerlink" title="锯齿与抗锯齿"></a>锯齿与抗锯齿</h2><p>首先，什么是锯齿，以及为什么会出现锯齿。</p>
<p>我们的屏幕，是以一个个正方形的像素点组成的，而正方形的特性导致了在倾斜的线上，边缘必定会出现一个个突起的阶梯状“毛刺”，比如图上这种<img src="/images/04fb3bbbec0c10e70c660aac1efd7cf1_r.jpg" alt="preview"></p>
<p>这种阶梯状的“毛刺”就是典型的锯齿。而有了锯齿也就有了抗锯齿(Anti-Aliasing).</p>
<p>抗锯齿的一般过程就是将这个毛刺的边缘柔化，使图像边缘看起来更平滑。如图：<img src="/images/4ec755cfd484c8333f094f57b97f3408_hd.jpg" alt="img"></p>
<h2 id="各种算法简单介绍"><a href="#各种算法简单介绍" class="headerlink" title="各种算法简单介绍"></a>各种算法简单介绍</h2><p>抗锯齿算法种类非常多，下面的介绍顺序基本上是各种抗锯齿算法出现的时间顺序。</p>
<h3 id="SSAA"><a href="#SSAA" class="headerlink" title="SSAA"></a>SSAA</h3><p>超级采样抗锯齿(Super-Sampling Anti-Aliasing, 也可叫做 Supersampling 超采样)是最早也最简单粗暴的抗锯齿手法，它的原理非常简单，就是在渲染时将要输出的分辨率提升 x 倍，比如要输出 1920x1080 的分辨率到屏幕上，开启 SSAA 2x, 那么内部渲染时的分辨率就是 3840x2160, 然后 Downsampling 到 1920x1080 上，自然在许多纹理边缘上就显得平滑许多。但是这种方式太太太吃资源了，所以又开发出了新的算法。</p>
<p>在 Nvidia 发布二代 Maxwell 架构的时候，同时发布的 <a href="http://www.geforce.cn/hardware/technology/dsr/technology" target="_blank" rel="noopener">DSR</a> 技术中就有 SSAA 的影子，技术思路同样是以更高分辨率渲染的原始画面输出到显示器分辨率上来得到更加精细平滑的画面。</p>
<h3 id="MSAA"><a href="#MSAA" class="headerlink" title="MSAA"></a>MSAA</h3><p>SSAA 太吃资源了，我们的硬件暂时还跟不上，怎么办？于是就有了多重采样抗锯齿(Multi-Sampling Anti-Aliasing), 它跟 SSAA 的区别就是，MSAA 只对于多边形的边缘进行抗锯齿处理。比如一个红色的圆，只对圆周作抗锯齿多重采样计算，但是圆周以内的部分则不会处理。这种方式下的画面锯齿得到了一定的抑制，而抗锯齿需要的资源也大幅下降到可接受的范围中。所以 MSAA 也逐渐成为目前被使用的最多的抗锯齿技术。</p>
<p>但是 MSAA 也有其局限之处，比如对于半透明物件、边缘不明确或者非常复杂的物件比如密集草丛、铁丝网这类的抗锯齿处理就比较力不从心。</p>
<h3 id="CSAA-amp-CFAA"><a href="#CSAA-amp-CFAA" class="headerlink" title="CSAA &amp; CFAA"></a>CSAA &amp; CFAA</h3><p>历史进入 Direct 10 时代，NV 方先声夺人发布了 G80 系列，同时带来了覆盖采样抗锯齿(<a href="http://www.nvidia.com/object/coverage-sampled-aa.html" target="_blank" rel="noopener">Coverage-Sampling Anti-Aliasing</a>)技术，主要改进了取样类型从而使得抗锯齿效率提升，资源占用量也得到减少。举例来说，如果使用 16x MSAA，需要在周围取得 16 个采样点的色彩值和 Z 轴值，然后保存这些数值进行计算。而 16x CSAA，则全部在被采样的像素点中心取得色彩之和Z轴值，然后对比并去掉同样的数据。一般来说，16x CSAA 后只需要保存 4 份色彩值和 Z 轴值即可。换句话来说，4x MSAA 耗费的资源和 16x CSAA 是相同的，但是，16x CSAA的画面效果相比 4x MSAA 更好。</p>
<p>同期 ATI 在发布 R600 系列时也带来了可编程过滤抗锯齿(Custom Filter Anti-Aliasing)技术。简单的来说 CFAA 就是扩大取样面积的 MSAA，比方说之前的 MSAA 是严格选取物体边缘像素进行缩放的，而 CFAA 则可以通过驱动判断对影响锯齿效果较大的像素进行缩放，以较少的性能牺牲换取平滑效果。</p>
<p>但是由于种种原因，CSAA 被接受程度更高一些，不少游戏就直接加入了 CSAA 选项。而 CFAA 由于需要在显卡驱动面板中进行调试而渐渐被用户所遗忘。</p>
<h3 id="MLAA-amp-FXAA"><a href="#MLAA-amp-FXAA" class="headerlink" title="MLAA &amp; FXAA"></a>MLAA &amp; FXAA</h3><p>在 CFAA 被遗忘之后，AMD-ATI 带来了形态抗锯齿(Morphological Anti-Aliasing).</p>
<p>不同于上面几种需要对多边形边缘进行分析计算的算法，MLAA 是一种后处理技术，发生在整个 3D 计算完成即将输出画面到屏幕上前，打个比方就是你拍完照用 Photoshop 处理的过程。</p>
<p>MLAA 的实际效果还是非常不错的，但是资源耗用还是有点厉害的。它的最大优势就是不需要游戏来支持它，因为是后处理技术所以在显卡驱动面板中打开就能用而且兼容性非常好。但是由于其仅仅使用颜色数据来判断抗锯齿边缘，因此 MLAA 的应用可能导致无法辨识到底哪些边缘需要进行抗锯齿计算。特别是一些不需要抗锯齿的地方，如文字，表格等，可能都由于不当抗锯齿而显得圆滑甚至怪异。</p>
<p>这边 A 家出了新抗锯齿技术，老冤家 NV 当然也不甘落后，在 Fermi 上推出了快速近似抗锯齿(Fast Approximate Anti-Aliasing)。</p>
<p>FXAA 和 MLAA 一样，也是一种后处理抗锯齿，两种 AA 在原理上相似，但是由于 FXAA 可以在 AN 两家的卡上都可以用而 MLAA 则由于部分计算处理依赖于硬件所以只能在 A 卡上用，最后导致 FXAA 被广泛的采用了。而且同时期 FXAA 的性能损失比 MLAA 更小，而效果上基本能接近 4x MSAA 的画面，虽然同样还是会出现“字体破坏”的情况。</p>
<h3 id="TXAA"><a href="#TXAA" class="headerlink" title="TXAA"></a>TXAA</h3><p>在抗锯齿这条路上，众多程序员以及各种“家”的探索是不会停下来的。在 Kepler 架构发布的同时，NV 也带来了新的 <a href="http://www.geforce.cn/hardware/technology/txaa/technology" target="_blank" rel="noopener">TXAA</a>(Temporal Anti-Aliasing 可称为“时间性抗锯齿”)技术，据 NV 自家的介绍，这项技术集时间性过滤器、硬件抗锯齿以及定制的 CG 电影式抗锯齿解算法于一身。</p>
<p>原有的抗锯齿技术在解决静态画面的锯齿上可以说已经达到了瓶颈了，但是在动态画面上，有锯齿的部位很容易出现闪烁。如同其名字中的“时间性”，TXAA 旨在解决“时间性抗锯齿”，也就是动态画面中的锯齿闪烁等问题。而其同时提供着不输于 8x MSAA 的静态画面抗锯齿效果。</p>
<p>TXAA 可以说是目前被采用的较多的抗锯齿算法中最厉害的一种了，但是它一是需要硬件电路配合，二是吃资源，以性能换画面，所以也基本上是中高端 N 卡用户用的。</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>目前主流的一些抗锯齿技术大概就是这么多了，本文很多内容都是参考中文互联网上的一些文章写成的。第一次在机核发文，存在的许多不足之处也请多多包涵。</p>


    
    
    
	  <div class="tags">
      <a class="tag-link" href="/tags/Game/" rel="tag">Game</a><a class="tag-link" href="/tags/Hardware/" rel="tag">Hardware</a><a class="tag-link" href="/tags/Tutorial/" rel="tag">Tutorial</a>
	  </div>
    

  </section>
</article>
  
</section>


  <nav id="page-nav">
    
    
    <a class="next" rel="next" href="/tags/Hardware/page/2/">
      <span class="text">Next</span>
      <span class="icon icon-chevron-right"></span>
    </a>
    
  </nav>
  

      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="mailto:phnjs211@gmail.com" class="social email"
          target="_blank" rel="external">
          <span class="icon icon-email"></span>
        </a>
      
        <a href="https://github.com/xinoassassin" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/xinoassassin" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="http://weibo.com/XiDeAssassin" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="https://rakugaki.me/" target="_blank">Art Chen</a>,<br/> modified by XinoAssassin.</div>
  <div>&copy; <a href="/">随写 - XinoAssassin&#39;s Blog</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  



<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>


<script src="/js/jquery.fitvids.js"></script>

<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "google";
</script>

<script src="/js/search.js"></script>


<script src="/js/app.js"></script>



  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
